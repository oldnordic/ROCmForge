warning: rocmforge@0.1.0: Failed to compile kernels/flash_attention.hip: exit code Some(1)
warning: unused import: `super::*`
   --> src/attention/flash_attention.rs:310:9
    |
310 |     use super::*;
    |         ^^^^^^^^
    |
    = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `super::*`
   --> src/attention/multi_query.rs:730:9
    |
730 |     use super::*;
    |         ^^^^^^^^

warning: unused imports: `RopeConfig` and `Rope`
   --> src/attention/multi_query.rs:731:34
    |
731 |     use crate::attention::rope::{Rope, RopeConfig};
    |                                  ^^^^  ^^^^^^^^^^

warning: unused import: `super::*`
   --> src/tensor/matmul.rs:219:9
    |
219 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `crate::backend::hip_blas::HipBlasHandle`
   --> src/tensor/matmul.rs:220:9
    |
220 |     use crate::backend::hip_blas::HipBlasHandle;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: method `evict_lru_sequences` is never used
   --> src/kv_cache/kv_cache.rs:989:8
    |
673 | impl KvCache {
    | ------------ method in this implementation
...
989 |     fn evict_lru_sequences(&mut self, required_pages: usize) -> KvCacheResult<()> {
    |        ^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `rocmforge` (lib) generated 6 warnings (run `cargo fix --lib -p rocmforge` to apply 5 suggestions)
   Compiling rocmforge v0.1.0 (/home/feanor/Projects/ROCmForge)
warning: unused import: `tempfile_helpers::create_temp_file`
  --> tests/common/mod.rs:44:9
   |
44 | pub use tempfile_helpers::create_temp_file;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `tempfile::NamedTempFile`
  --> tests/common/mod.rs:45:9
   |
45 | pub use tempfile::NamedTempFile;
   |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `create_backend`, `create_embedding_gguf`, `create_test_gguf_with_f32`, `create_test_gguf`, and `try_create_backend`
  --> tests/common/mod.rs:49:5
   |
49 |     create_test_gguf,
   |     ^^^^^^^^^^^^^^^^
50 |     create_test_gguf_with_f32,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^
51 |     create_embedding_gguf,
   |     ^^^^^^^^^^^^^^^^^^^^^
52 |     create_test_tensor,
53 |     try_create_backend,
   |     ^^^^^^^^^^^^^^^^^^
54 |     create_backend,
   |     ^^^^^^^^^^^^^^

warning: unused import: `super::*`
   --> tests/q_dequant_tests.rs:634:9
    |
634 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `super::*`
   --> tests/q_dequant_tests.rs:837:9
    |
837 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `super::*`
   --> tests/q_dequant_tests.rs:916:9
    |
916 |     use super::*;
    |         ^^^^^^^^

warning: unused import: `super::*`
   --> tests/q_dequant_tests.rs:990:9
    |
990 |     use super::*;
    |         ^^^^^^^^

warning: unused imports: `create_backend`, `create_embedding_gguf`, `create_test_gguf_with_f32`, `create_test_gguf`, `create_test_tensor`, and `try_create_backend`
  --> tests/common/mod.rs:49:5
   |
49 |     create_test_gguf,
   |     ^^^^^^^^^^^^^^^^
50 |     create_test_gguf_with_f32,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^
51 |     create_embedding_gguf,
   |     ^^^^^^^^^^^^^^^^^^^^^
52 |     create_test_tensor,
   |     ^^^^^^^^^^^^^^^^^^
53 |     try_create_backend,
   |     ^^^^^^^^^^^^^^^^^^
54 |     create_backend,
   |     ^^^^^^^^^^^^^^

warning: unused import: `dequantize_q4_0`
    --> tests/q_dequant_tests.rs:1004:52
     |
1004 |             matmul_q4_0, matmul_q4_0_cpu_fallback, dequantize_q4_0,
     |                                                    ^^^^^^^^^^^^^^^

warning: unnecessary parentheses around closure body
  --> tests/transformer_integration_tests.rs:50:22
   |
50 |             .map(|i| ((i as f32) * 0.1 - 5.0))
   |                      ^                      ^
   |
   = note: `#[warn(unused_parens)]` (part of `#[warn(unused)]`) on by default
help: remove these parentheses
   |
50 -             .map(|i| ((i as f32) * 0.1 - 5.0))
50 +             .map(|i| (i as f32) * 0.1 - 5.0)
   |

error[E0308]: mismatched types
   --> tests/q_dequant_tests.rs:663:27
    |
663 |             data[4 + i] = ((i + 1) << 4) | i;
    |             -----------   ^^^^^^^^^^^^^^^^^^ expected `u8`, found `usize`
    |             |
    |             expected due to the type of this binding

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
   --> tests/q_dequant_tests.rs:676:16
    |
676 |         output.copy_to_host(&mut gpu_result).expect("Copy to host failed");
    |                ^^^^^^^^^^^^
    |
    = note: `#[warn(deprecated)]` on by default

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
   --> tests/q_dequant_tests.rs:730:16
    |
730 |         output.copy_to_host(&mut gpu_result).expect("Copy to host failed");
    |                ^^^^^^^^^^^^

warning: variable does not need to be mutable
   --> tests/transformer_integration_tests.rs:250:13
    |
250 |         let mut input_tensor = DeviceTensor::empty(&backend, input_shape).context("TODO: add error context")?;
    |             ----^^^^^^^^^^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

warning: variable does not need to be mutable
   --> tests/transformer_integration_tests.rs:260:13
    |
260 |         let mut attention_output = DeviceTensor::empty(&backend, output_shape.clone()).context("TODO: add error context")?;
    |             ----^^^^^^^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> tests/transformer_integration_tests.rs:261:13
    |
261 |         let mut mlp_output = DeviceTensor::empty(&backend, output_shape.clone()).context("TODO: add error context")?;
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> tests/transformer_integration_tests.rs:273:13
    |
273 |         let mut kv_cache = KVCache::new(
    |             ----^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: unused variable: `kv_cache`
   --> tests/transformer_integration_tests.rs:273:13
    |
273 |         let mut kv_cache = KVCache::new(
    |             ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_kv_cache`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
   --> tests/q_dequant_tests.rs:773:16
    |
773 |         output.copy_to_host(&mut gpu_result).expect("Copy to host failed");
    |                ^^^^^^^^^^^^

warning: methods `assert_no_leak` and `memory_stats` are never used
   --> tests/common/mod.rs:152:12
    |
105 | impl GpuTestFixture {
    | ------------------- methods in this implementation
...
152 |     pub fn assert_no_leak(&self, tolerance_percent: usize) {
    |            ^^^^^^^^^^^^^^
...
174 |     pub fn memory_stats(&self) -> (usize, usize) {
    |            ^^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: function `has_test_model` is never used
   --> tests/common/mod.rs:193:8
    |
193 | pub fn has_test_model() -> bool {
    |        ^^^^^^^^^^^^^^

warning: function `create_test_gguf` is never used
  --> tests/common/fixtures.rs:26:8
   |
26 | pub fn create_test_gguf(path: &Path) -> anyhow::Result<()> {
   |        ^^^^^^^^^^^^^^^^

warning: function `create_test_gguf_with_f32` is never used
  --> tests/common/fixtures.rs:66:8
   |
66 | pub fn create_test_gguf_with_f32(path: &Path) -> anyhow::Result<()> {
   |        ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `create_embedding_gguf` is never used
   --> tests/common/fixtures.rs:125:8
    |
125 | pub fn create_embedding_gguf(
    |        ^^^^^^^^^^^^^^^^^^^^^

warning: function `write_kv_string` is never used
   --> tests/common/fixtures.rs:196:4
    |
196 | fn write_kv_string(file: &mut File, key: &str, value: u32) -> anyhow::Result<()> {
    |    ^^^^^^^^^^^^^^^

warning: function `write_tensor_info` is never used
   --> tests/common/fixtures.rs:211:4
    |
211 | fn write_tensor_info(
    |    ^^^^^^^^^^^^^^^^^

warning: function `write_tensor_data_f32` is never used
   --> tests/common/fixtures.rs:240:4
    |
240 | fn write_tensor_data_f32(file: &mut File, data: &[f32]) -> anyhow::Result<()> {
    |    ^^^^^^^^^^^^^^^^^^^^^

warning: function `create_test_tensor` is never used
   --> tests/common/fixtures.rs:252:8
    |
252 | pub fn create_test_tensor(
    |        ^^^^^^^^^^^^^^^^^^

warning: function `try_create_backend` is never used
   --> tests/common/fixtures.rs:278:8
    |
278 | pub fn try_create_backend() -> anyhow::Result<Arc<HipBackend>> {
    |        ^^^^^^^^^^^^^^^^^^

warning: function `create_backend` is never used
   --> tests/common/fixtures.rs:290:8
    |
290 | pub fn create_backend() -> Arc<HipBackend> {
    |        ^^^^^^^^^^^^^^

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
   --> tests/q_dequant_tests.rs:818:16
    |
818 |         output.copy_to_host(&mut gpu_result).expect("Copy to host failed");
    |                ^^^^^^^^^^^^

error[E0308]: mismatched types
   --> tests/q_dequant_tests.rs:878:28
    |
878 |             data[32 + i] = ((i % 16) << 4) | (i % 16);
    |             ------------   ^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `u8`, found `usize`
    |             |
    |             expected due to the type of this binding

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
   --> tests/q_dequant_tests.rs:897:16
    |
897 |         output.copy_to_host(&mut gpu_result).expect("Copy to host failed");
    |                ^^^^^^^^^^^^

error[E0308]: mismatched types
   --> tests/q_dequant_tests.rs:952:28
    |
952 |             data[32 + i] = (i % 64) * 4;  // Valid 6-bit values
    |             ------------   ^^^^^^^^^^^^ expected `u8`, found `usize`
    |             |
    |             expected due to the type of this binding

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
   --> tests/q_dequant_tests.rs:971:16
    |
971 |         output.copy_to_host(&mut gpu_result).expect("Copy to host failed");
    |                ^^^^^^^^^^^^

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
    --> tests/q_dequant_tests.rs:1061:31
     |
1061 |                 output_buffer.copy_to_host(&mut result)
     |                               ^^^^^^^^^^^^

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
    --> tests/q_dequant_tests.rs:1083:27
     |
1083 |         output_ref_buffer.copy_to_host(&mut cpu_result)
     |                           ^^^^^^^^^^^^

error: cannot find attribute `serial` in this scope
   --> tests/e2e_suite.rs:286:3
    |
286 | #[serial]
    |   ^^^^^^
    |
help: consider importing this attribute macro
    |
 51 + use serial_test::serial;
    |

error: cannot find attribute `serial` in this scope
   --> tests/e2e_suite.rs:377:3
    |
377 | #[serial]
    |   ^^^^^^
    |
help: consider importing this attribute macro
    |
 51 + use serial_test::serial;
    |

error: cannot find attribute `serial` in this scope
   --> tests/e2e_suite.rs:493:3
    |
493 | #[serial]
    |   ^^^^^^
    |
help: consider importing this attribute macro
    |
 51 + use serial_test::serial;
    |

error: cannot find attribute `serial` in this scope
  --> tests/phase6_integration_model_loading.rs:86:7
   |
86 |     #[serial]
   |       ^^^^^^
   |
help: consider importing this attribute macro
   |
 9 +     use serial_test::serial;
   |

error: cannot find attribute `serial` in this scope
   --> tests/e2e_suite.rs:616:3
    |
616 | #[serial]
    |   ^^^^^^
    |
help: consider importing this attribute macro
    |
 51 + use serial_test::serial;
    |

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
    --> tests/q_dequant_tests.rs:1166:31
     |
1166 |                 output_buffer.copy_to_host(&mut result)
     |                               ^^^^^^^^^^^^

error: cannot find attribute `serial` in this scope
   --> tests/e2e_suite.rs:736:3
    |
736 | #[serial]
    |   ^^^^^^
    |
help: consider importing this attribute macro
    |
 51 + use serial_test::serial;
    |

error[E0433]: failed to resolve: use of undeclared type `ExecutionPlan`
   --> tests/phase6_integration_model_loading.rs:115:20
    |
115 |         let plan = ExecutionPlan::from_gguf(&backend, &loader)
    |                    ^^^^^^^^^^^^^ use of undeclared type `ExecutionPlan`
    |
help: consider importing this struct
    |
  9 +     use rocmforge::model::ExecutionPlan;
    |

error: cannot find attribute `serial` in this scope
   --> tests/e2e_suite.rs:830:3
    |
830 | #[serial]
    |   ^^^^^^
    |
help: consider importing this attribute macro
    |
 51 + use serial_test::serial;
    |

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
    --> tests/q_dequant_tests.rs:1199:27
     |
1199 |         output_ref_buffer.copy_to_host(&mut cpu_result)
     |                           ^^^^^^^^^^^^

warning: unused import: `serial_test::serial`
  --> tests/phase6_integration_model_loading.rs:91:13
   |
91 |         use serial_test::serial;
   |             ^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

error: cannot find attribute `serial` in this scope
    --> tests/e2e_suite.rs:1004:3
     |
1004 | #[serial]
     |   ^^^^^^
     |
help: consider importing this attribute macro
     |
  51 + use serial_test::serial;
     |

error: cannot find attribute `serial` in this scope
    --> tests/e2e_suite.rs:1080:3
     |
1080 | #[serial]
     |   ^^^^^^
     |
help: consider importing this attribute macro
     |
  51 + use serial_test::serial;
     |

error: cannot find attribute `serial` in this scope
    --> tests/e2e_suite.rs:1211:3
     |
1211 | #[serial]
     |   ^^^^^^
     |
help: consider importing this attribute macro
     |
  51 + use serial_test::serial;
     |

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
    --> tests/q_dequant_tests.rs:1276:31
     |
1276 |                 output_buffer.copy_to_host(&mut result)
     |                               ^^^^^^^^^^^^

error: cannot find attribute `serial` in this scope
    --> tests/e2e_suite.rs:1341:3
     |
1341 | #[serial]
     |   ^^^^^^
     |
help: consider importing this attribute macro
     |
  51 + use serial_test::serial;
     |

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
    --> tests/q_dequant_tests.rs:1309:27
     |
1309 |         output_ref_buffer.copy_to_host(&mut cpu_result)
     |                           ^^^^^^^^^^^^

error: cannot find attribute `serial` in this scope
    --> tests/e2e_suite.rs:1468:3
     |
1468 | #[serial]
     |   ^^^^^^
     |
help: consider importing this attribute macro
     |
  51 + use serial_test::serial;
     |

error: cannot find attribute `serial` in this scope
    --> tests/e2e_suite.rs:1590:3
     |
1590 | #[serial]
     |   ^^^^^^
     |
help: consider importing this attribute macro
     |
  51 + use serial_test::serial;
     |

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
    --> tests/q_dequant_tests.rs:1377:31
     |
1377 |                 output_buffer.copy_to_host(&mut result)
     |                               ^^^^^^^^^^^^

warning: use of deprecated method `rocmforge::backend::HipBuffer::copy_to_host`: Use HipBackend::copy_from_device_safe() instead - clearer intent
    --> tests/q_dequant_tests.rs:1398:27
     |
1398 |         output_ref_buffer.copy_to_host(&mut cpu_result)
     |                           ^^^^^^^^^^^^

error[E0433]: failed to resolve: use of undeclared type `GgufLoader`
   --> tests/e2e_suite.rs:320:24
    |
320 |     let loader = match GgufLoader::new(model_path_str) {
    |                        ^^^^^^^^^^ use of undeclared type `GgufLoader`
    |
help: consider importing this struct
    |
 51 + use rocmforge::loader::GgufLoader;
    |

error[E0433]: failed to resolve: use of undeclared type `Instant`
   --> tests/e2e_suite.rs:333:17
    |
333 |     let start = Instant::now();
    |                 ^^^^^^^ use of undeclared type `Instant`
    |
help: consider importing one of these structs
    |
 51 + use std::time::Instant;
    |
 51 + use tokio::time::Instant;
    |

error[E0433]: failed to resolve: use of undeclared type `GgufLoader`
   --> tests/e2e_suite.rs:407:25
    |
407 |     let loader1 = match GgufLoader::new(model_path_str) {
    |                         ^^^^^^^^^^ use of undeclared type `GgufLoader`
    |
help: consider importing this struct
    |
 51 + use rocmforge::loader::GgufLoader;
    |

error[E0433]: failed to resolve: use of undeclared type `Instant`
   --> tests/e2e_suite.rs:417:17
    |
417 |     let start = Instant::now();
    |                 ^^^^^^^ use of undeclared type `Instant`
    |
help: consider importing one of these structs
    |
 51 + use std::time::Instant;
    |
 51 + use tokio::time::Instant;
    |

error[E0433]: failed to resolve: use of undeclared type `GgufLoader`
   --> tests/e2e_suite.rs:428:25
    |
428 |     let loader2 = match GgufLoader::new(model_path_str) {
    |                         ^^^^^^^^^^ use of undeclared type `GgufLoader`
    |
help: consider importing this struct
    |
 51 + use rocmforge::loader::GgufLoader;
    |

error[E0433]: failed to resolve: use of undeclared type `Instant`
   --> tests/e2e_suite.rs:437:17
    |
437 |     let start = Instant::now();
    |                 ^^^^^^^ use of undeclared type `Instant`
    |
help: consider importing one of these structs
    |
 51 + use std::time::Instant;
    |
 51 + use tokio::time::Instant;
    |

error[E0433]: failed to resolve: use of undeclared type `GgufLoader`
   --> tests/e2e_suite.rs:522:25
    |
522 |     let loader1 = match GgufLoader::new(model_path_str) {
    |                         ^^^^^^^^^^ use of undeclared type `GgufLoader`
    |
help: consider importing this struct
    |
 51 + use rocmforge::loader::GgufLoader;
    |

error[E0433]: failed to resolve: use of undeclared type `GgufLoader`
   --> tests/e2e_suite.rs:538:25
    |
538 |     let loader2 = match GgufLoader::new(model_path_str) {
    |                         ^^^^^^^^^^ use of undeclared type `GgufLoader`
    |
help: consider importing this struct
    |
 51 + use rocmforge::loader::GgufLoader;
    |

error[E0433]: failed to resolve: use of undeclared type `Instant`
   --> tests/e2e_suite.rs:665:25
    |
665 |             let start = Instant::now();
    |                         ^^^^^^^ use of undeclared type `Instant`
    |
help: consider importing one of these structs
    |
 51 + use std::time::Instant;
    |
 51 + use tokio::time::Instant;
    |

error[E0433]: failed to resolve: use of undeclared type `GgufLoader`
   --> tests/e2e_suite.rs:675:32
    |
675 |             let loader = match GgufLoader::new(model_path_str) {
    |                                ^^^^^^^^^^ use of undeclared type `GgufLoader`
    |
help: consider importing this struct
    |
 51 + use rocmforge::loader::GgufLoader;
    |

error[E0433]: failed to resolve: use of undeclared type `GgufLoader`
   --> tests/e2e_suite.rs:764:24
    |
764 |     let loader = match GgufLoader::new(model_path_str) {
    |                        ^^^^^^^^^^ use of undeclared type `GgufLoader`
    |
help: consider importing this struct
    |
 51 + use rocmforge::loader::GgufLoader;
    |

error[E0433]: failed to resolve: use of undeclared type `Instant`
   --> tests/e2e_suite.rs:774:17
    |
774 |     let start = Instant::now();
    |                 ^^^^^^^ use of undeclared type `Instant`
    |
help: consider importing one of these structs
    |
 51 + use std::time::Instant;
    |
 51 + use tokio::time::Instant;
    |

error[E0433]: failed to resolve: use of undeclared type `Instant`
   --> tests/e2e_suite.rs:790:17
    |
790 |     let start = Instant::now();
    |                 ^^^^^^^ use of undeclared type `Instant`
    |
help: consider importing one of these structs
    |
 51 + use std::time::Instant;
    |
 51 + use tokio::time::Instant;
    |

error[E0433]: failed to resolve: use of undeclared type `GgufLoader`
   --> tests/e2e_suite.rs:865:24
    |
865 |     let loader = match GgufLoader::new(model_path_str) {
    |                        ^^^^^^^^^^ use of undeclared type `GgufLoader`
    |
help: consider importing this struct
    |
 51 + use rocmforge::loader::GgufLoader;
    |

error[E0433]: failed to resolve: use of undeclared type `Instant`
    --> tests/e2e_suite.rs:1027:17
     |
1027 |     let start = Instant::now();
     |                 ^^^^^^^ use of undeclared type `Instant`
     |
help: consider importing one of these structs
     |
  51 + use std::time::Instant;
     |
  51 + use tokio::time::Instant;
     |

error[E0433]: failed to resolve: use of undeclared type `Instant`
    --> tests/e2e_suite.rs:1143:17
     |
1143 |     let start = Instant::now();
     |                 ^^^^^^^ use of undeclared type `Instant`
     |
help: consider importing one of these structs
     |
  51 + use std::time::Instant;
     |
  51 + use tokio::time::Instant;
     |

error[E0433]: failed to resolve: use of undeclared type `Instant`
    --> tests/e2e_suite.rs:1261:17
     |
1261 |     let start = Instant::now();
     |                 ^^^^^^^ use of undeclared type `Instant`
     |
help: consider importing one of these structs
     |
  51 + use std::time::Instant;
     |
  51 + use tokio::time::Instant;
     |

error[E0433]: failed to resolve: use of undeclared type `Instant`
    --> tests/e2e_suite.rs:1417:17
     |
1417 |     let start = Instant::now();
     |                 ^^^^^^^ use of undeclared type `Instant`
     |
help: consider importing one of these structs
     |
  51 + use std::time::Instant;
     |
  51 + use tokio::time::Instant;
     |

error[E0433]: failed to resolve: use of undeclared type `Instant`
    --> tests/e2e_suite.rs:1613:23
     |
1613 |     let start_total = Instant::now();
     |                       ^^^^^^^ use of undeclared type `Instant`
     |
help: consider importing one of these structs
     |
  51 + use std::time::Instant;
     |
  51 + use tokio::time::Instant;
     |

error[E0433]: failed to resolve: use of undeclared type `Instant`
    --> tests/e2e_suite.rs:1617:22
     |
1617 |     let load_start = Instant::now();
     |                      ^^^^^^^ use of undeclared type `Instant`
     |
help: consider importing one of these structs
     |
  51 + use std::time::Instant;
     |
  51 + use tokio::time::Instant;
     |

error[E0433]: failed to resolve: use of undeclared type `Instant`
    --> tests/e2e_suite.rs:1639:31
     |
1639 |         let inference_start = Instant::now();
     |                               ^^^^^^^ use of undeclared type `Instant`
     |
help: consider importing one of these structs
     |
  51 + use std::time::Instant;
     |
  51 + use tokio::time::Instant;
     |

For more information about this error, try `rustc --explain E0433`.
warning: `rocmforge` (test "phase6_integration_model_loading") generated 1 warning
warning: rocmforge@0.1.0: Failed to compile kernels/flash_attention.hip: exit code Some(1)
error: could not compile `rocmforge` (test "phase6_integration_model_loading") due to 2 previous errors; 1 warning emitted
warning: build failed, waiting for other jobs to finish...
For more information about this error, try `rustc --explain E0308`.
error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:320:9
    |
320 |     let loader = match GgufLoader::new(model_path_str) {
    |         ^^^^^^
...
328 |     println!("Metadata: {}", loader.metadata().architecture);
    |                              ------ type must be known at this point
    |
help: consider giving `loader` an explicit type
    |
320 |     let loader: /* Type */ = match GgufLoader::new(model_path_str) {
    |               ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:334:9
    |
334 |     let tensors_async = match loader.load_to_gpu_async(fixture.backend()) {
    |         ^^^^^^^^^^^^^
...
343 |     println!("Loaded {} tensors", tensors_async.len());
    |                                   ------------- type must be known at this point
    |
help: consider giving `tensors_async` an explicit type
    |
334 |     let tensors_async: /* Type */ = match loader.load_to_gpu_async(fixture.backend()) {
    |                      ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:355:21
    |
355 |         let shape = tensor.shape().dims();
    |                     ^^^^^^ cannot infer type

warning: `rocmforge` (test "q_dequant_tests") generated 22 warnings (2 duplicates)
warning: rocmforge@0.1.0: Failed to compile kernels/flash_attention.hip: exit code Some(1)
error: could not compile `rocmforge` (test "q_dequant_tests") due to 3 previous errors; 22 warnings emitted
error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:407:9
    |
407 |     let loader1 = match GgufLoader::new(model_path_str) {
    |         ^^^^^^^
...
418 |     let tensors_seq = match loader1.load_to_gpu(fixture.backend()) {
    |                             ------- type must be known at this point
    |
help: consider giving `loader1` an explicit type
    |
407 |     let loader1: /* Type */ = match GgufLoader::new(model_path_str) {
    |                ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:428:9
    |
428 |     let loader2 = match GgufLoader::new(model_path_str) {
    |         ^^^^^^^
...
438 |     let tensors_async = match loader2.load_to_gpu_async(fixture.backend()) {
    |                               ------- type must be known at this point
    |
help: consider giving `loader2` an explicit type
    |
428 |     let loader2: /* Type */ = match GgufLoader::new(model_path_str) {
    |                ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:418:9
    |
418 |     let tensors_seq = match loader1.load_to_gpu(fixture.backend()) {
    |         ^^^^^^^^^^^
...
454 |         tensors_seq.len()
    |         ----------- type must be known at this point
    |
help: consider giving `tensors_seq` an explicit type
    |
418 |     let tensors_seq: /* Type */ = match loader1.load_to_gpu(fixture.backend()) {
    |                    ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:438:9
    |
438 |     let tensors_async = match loader2.load_to_gpu_async(fixture.backend()) {
    |         ^^^^^^^^^^^^^
...
459 |         tensors_async.len()
    |         ------------- type must be known at this point
    |
help: consider giving `tensors_async` an explicit type
    |
438 |     let tensors_async: /* Type */ = match loader2.load_to_gpu_async(fixture.backend()) {
    |                      ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:522:9
    |
522 |     let loader1 = match GgufLoader::new(model_path_str) {
    |         ^^^^^^^
...
530 |     let tensors_seq = match loader1.load_to_gpu(fixture.backend()) {
    |                             ------- type must be known at this point
    |
help: consider giving `loader1` an explicit type
    |
522 |     let loader1: /* Type */ = match GgufLoader::new(model_path_str) {
    |                ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:538:9
    |
538 |     let loader2 = match GgufLoader::new(model_path_str) {
    |         ^^^^^^^
...
545 |     let tensors_async = match loader2.load_to_gpu_async(fixture.backend()) {
    |                               ------- type must be known at this point
    |
help: consider giving `loader2` an explicit type
    |
538 |     let loader2: /* Type */ = match GgufLoader::new(model_path_str) {
    |                ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:530:9
    |
530 |     let tensors_seq = match loader1.load_to_gpu(fixture.backend()) {
    |         ^^^^^^^^^^^
...
552 |     println!("Loaded {} tensors (sequential)", tensors_seq.len());
    |                                                ----------- type must be known at this point
    |
help: consider giving `tensors_seq` an explicit type
    |
530 |     let tensors_seq: /* Type */ = match loader1.load_to_gpu(fixture.backend()) {
    |                    ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:545:9
    |
545 |     let tensors_async = match loader2.load_to_gpu_async(fixture.backend()) {
    |         ^^^^^^^^^^^^^
...
553 |     println!("Loaded {} tensors (async)", tensors_async.len());
    |                                           ------------- type must be known at this point
    |
help: consider giving `tensors_async` an explicit type
    |
545 |     let tensors_async: /* Type */ = match loader2.load_to_gpu_async(fixture.backend()) {
    |                      ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:675:17
    |
675 |             let loader = match GgufLoader::new(model_path_str) {
    |                 ^^^^^^
...
682 |             let tensors = match loader.load_to_gpu_async(&backend_clone) {
    |                                 ------ type must be known at this point
    |
help: consider giving `loader` an explicit type
    |
675 |             let loader: /* Type */ = match GgufLoader::new(model_path_str) {
    |                       ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:682:17
    |
682 |             let tensors = match loader.load_to_gpu_async(&backend_clone) {
    |                 ^^^^^^^
...
695 |                 tensors.len()
    |                 ------- type must be known at this point
    |
help: consider giving `tensors` an explicit type
    |
682 |             let tensors: /* Type */ = match loader.load_to_gpu_async(&backend_clone) {
    |                        ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:764:9
    |
764 |     let loader = match GgufLoader::new(model_path_str) {
    |         ^^^^^^
...
775 |     let tensors1 = match loader.load_to_gpu_async(fixture.backend()) {
    |                          ------ type must be known at this point
    |
help: consider giving `loader` an explicit type
    |
764 |     let loader: /* Type */ = match GgufLoader::new(model_path_str) {
    |               ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:865:9
    |
865 |     let loader = match GgufLoader::new(model_path_str) {
    |         ^^^^^^
...
873 |     let tensors = match loader.load_to_gpu_async(fixture.backend()) {
    |                         ------ type must be known at this point
    |
help: consider giving `loader` an explicit type
    |
865 |     let loader: /* Type */ = match GgufLoader::new(model_path_str) {
    |               ++++++++++++

error[E0282]: type annotations needed
   --> tests/e2e_suite.rs:873:9
    |
873 |     let tensors = match loader.load_to_gpu_async(fixture.backend()) {
    |         ^^^^^^^
...
880 |     println!("Loaded {} tensors", tensors.len());
    |                                   ------- type must be known at this point
    |
help: consider giving `tensors` an explicit type
    |
873 |     let tensors: /* Type */ = match loader.load_to_gpu_async(fixture.backend()) {
    |                ++++++++++++

warning: field `backend` is never read
  --> tests/common/mod.rs:99:5
   |
98 | pub struct GpuTestFixture {
   |            -------------- field in this struct
99 |     backend: std::sync::Arc<HipBackend>,
   |     ^^^^^^^
   |
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: methods `backend`, `assert_no_leak`, and `memory_stats` are never used
   --> tests/common/mod.rs:120:12
    |
105 | impl GpuTestFixture {
    | ------------------- methods in this implementation
...
120 |     pub fn backend(&self) -> &std::sync::Arc<HipBackend> {
    |            ^^^^^^^
...
152 |     pub fn assert_no_leak(&self, tolerance_percent: usize) {
    |            ^^^^^^^^^^^^^^
...
174 |     pub fn memory_stats(&self) -> (usize, usize) {
    |            ^^^^^^^^^^^^

warning: unused variable: `fixture`
    --> tests/e2e_suite.rs:1470:9
     |
1470 |     let fixture = match GPU_FIXTURE.as_ref() {
     |         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_fixture`
     |
     = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

Some errors have detailed explanations: E0282, E0433.
For more information about an error, try `rustc --explain E0282`.
warning: `rocmforge` (test "e2e_suite") generated 1 warning
warning: rocmforge@0.1.0: Failed to compile kernels/flash_attention.hip: exit code Some(1)
error: could not compile `rocmforge` (test "e2e_suite") due to 49 previous errors; 1 warning emitted
warning: `rocmforge` (test "transformer_integration_tests") generated 20 warnings (3 duplicates) (run `cargo fix --test "transformer_integration_tests" -p rocmforge` to apply 6 suggestions)
warning: `rocmforge` (test "e2e_inference_tests") generated 14 warnings (9 duplicates) (run `cargo fix --test "e2e_inference_tests" -p rocmforge` to apply 3 suggestions)
