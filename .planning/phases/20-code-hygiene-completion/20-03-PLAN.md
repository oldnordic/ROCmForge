---
phase: 20-code-hygiene-completion
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/attention/multi_query.rs
  - src/ggml/hip_backend/ops/batch_quantized.rs
  - src/ggml/hip_backend/ops/mask.rs
  - src/ggml/hip_backend/ops/quantized_matmul.rs
  - src/ggml/hip_backend/ops/rms_norm.rs
  - src/ggml/hip_backend/ops/rope.rs
  - src/ggml/hip_backend/ops/softmax.rs
  - src/ggml/hip_backend/ops/swiglu.rs
autonomous: true
user_setup: []

must_haves:
  truths:
    - "All unused import warnings are eliminated"
    - "No HipError unused imports remain"
    - "No KernelTimer unused imports remain"
  artifacts:
    - path: "src/attention/multi_query.rs"
      provides: "Removed unused HipError import"
      contains: "no unused HipError import"
    - path: "src/ggml/hip_backend/ops/batch_quantized.rs"
      provides: "Removed unused KernelTimer import"
      contains: "no unused KernelTimer import"
    - path: "src/ggml/hip_backend/ops/quantized_matmul.rs"
      provides: "Removed unused KernelTimer import"
      contains: "no unused KernelTimer import"
    - path: "src/ggml/hip_backend/ops/mask.rs"
      provides: "Removed unused HipError import"
      contains: "no unused HipError import"
    - path: "src/ggml/hip_backend/ops/rms_norm.rs"
      provides: "Removed unused HipError import"
      contains: "no unused HipError import"
    - path: "src/ggml/hip_backend/ops/rope.rs"
      provides: "Removed unused HipError import"
      contains: "no unused HipError import"
    - path: "src/ggml/hip_backend/ops/softmax.rs"
      provides: "Removed unused HipError import"
      contains: "no unused HipError import"
    - path: "src/ggml/hip_backend/ops/swiglu.rs"
      provides: "Removed unused HipError import"
      contains: "no unused HipError import"
  key_links:
    - from: "import statements"
      to: "actual usage"
      via: "grep verification"
      pattern: "use.*HipError|use.*KernelTimer"
---

<objective>
Remove all unused imports across 8 files.

Purpose: Unused imports clutter the codebase and indicate either copy-paste errors or refactoring leftovers. Removing them establishes a clean baseline for HYGIENE-04.

Output: 8 unused import warnings eliminated.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
</context>

<tasks>

<task type="auto">
  <name>Remove unused HipError imports from hip_backend ops</name>
  <files>
    src/ggml/hip_backend/ops/mask.rs
    src/ggml/hip_backend/ops/rms_norm.rs
    src/ggml/hip_backend/ops/rope.rs
    src/ggml/hip_backend/ops/softmax.rs
    src/ggml/hip_backend/ops/swiglu.rs
    src/attention/multi_query.rs
  </files>
  <action>
    For each file with unused HipError import:
    1. Read the file to confirm HipError is not used
    2. Remove the import line (typically: use crate::backend::hip_backend::backend::HipError;)
    3. Verify the file still compiles

    Files affected (6 locations):
    - src/attention/multi_query.rs:294
    - src/ggml/hip_backend/ops/mask.rs:3
    - src/ggml/hip_backend/ops/rms_norm.rs:3
    - src/ggml/hip_backend/ops/rope.rs:3
    - src/ggml/hip_backend/ops/softmax.rs:3
    - src/ggml/hip_backend/ops/swiglu.rs:3

    Use sed or direct edit to remove the import lines.
  </action>
  <verify>grep -n "unused import.*HipError" &lt;(cargo check --features rocm 2>&1) returns no results</verify>
  <done>All 6 HipError unused imports removed</done>
</task>

<task type="auto">
  <name>Remove unused KernelTimer imports</name>
  <files>
    src/ggml/hip_backend/ops/batch_quantized.rs
    src/ggml/hip_backend/ops/quantized_matmul.rs
  </files>
  <action>
    For each file with unused KernelTimer import:
    1. Read the file to confirm KernelTimer is not used
    2. Remove the import line (typically: use crate::profiling::KernelTimer;)
    3. Verify the file still compiles

    Files affected (2 locations):
    - src/ggml/hip_backend/ops/batch_quantized.rs:18
    - src/ggml/hip_backend/ops/quantized_matmul.rs:45

    Use sed or direct edit to remove the import lines.
  </action>
  <verify>grep -n "unused import.*KernelTimer" &lt;(cargo check --features rocm 2>&1) returns no results</verify>
  <done>All 2 KernelTimer unused imports removed</done>
</task>

<task type="auto">
  <name>Verify all unused import warnings fixed</name>
  <files></files>
  <action>
    Run cargo check --features rocm.
    Verify no "unused import" warnings remain.
    Count remaining warnings (should be 62, down from 70).
  </action>
  <verify>grep -c "unused import" &lt;(cargo check --features rocm 2>&1) outputs 0</verify>
  <done>HYGIENE-04 requirement satisfied (all unused imports eliminated)</done>
</task>

</tasks>

<verification>
1. Run cargo check --features rocm and verify no unused import warnings
2. Confirm all 8 affected files still compile correctly
3. Verify warning count reduced from 70 to 62
</verification>

<success_criteria>
- Zero unused import warnings (was 8, now 0)
- Total warning count reduced from 70 to 62
- HYGIENE-04 requirement satisfied
- All affected files compile correctly
</success_criteria>

<output>
After completion, create `.planning/phases/20-code-hygiene-completion/20-03-SUMMARY.md`
</output>
